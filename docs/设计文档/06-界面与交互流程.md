# 界面与交互流程

## 1. 整体布局 (App Shell)

```text
┌───┬──────────────────────────────────────────────────────────┐
│   │ Top Bar: [Breadcrumb] [Global Search] [Settings]         │
│ S ├─────────────────────────┬────────────────────────────────┤
│ i │ Left Panel: Chapter     │ Main Area: Slide Viewer         │
│ d │ Tree                    │ [Audio Toggle]                 │
│ e │                         │                                │
│ B │ ▾ Chapter 1             │      +----------------+         │
│ a │   ○ Section 1.1         │      |  Slide Card    |         │
│ r │   ○ Section 1.2         │      |                |         │
│   │                         │      |                |         │
│   │ ▾ Chapter 2             │      +----------------+         │
│   │   ○ Section 2.1         │                                │
│   │   ● Section 2.2         │    [< Prev]   [Next >]          │
│   │                         │                                │
└───┴─────────────────────────┴────────────────────────────────┘
```

**Sidebar (Global Nav)**:

- **Settings**: 配置 LLM、API Key、TTS 设置等。

## 2. 核心视图

### 2.1 章节学习主控台 (Slide Learning Console)

布局：左树右幻灯片。

**左侧：章节树**

- 树结构 (章节树)。

**章节播放**：

- 点击**章节**：加载该章节的PPT内容，形成播放列表。

**右侧：幻灯片演示区 (Slide Viewer)**

- **Header**: 当前播放的章节标题，右侧可能显示 [🔈] 音频状态。
- **Card Area**: 居中显示的 HTML 内容卡片。
  - **原文对照**: 在关键内容处，可查看对应的原文片段（包含filePath + 标题路径 + 行号范围）。
  - **知识关联**: 内容中提及其他知识点时，提供可点击链接，点击后跳转到相关内容。
- **Navigation**:
  - 鼠标滚轮向下 -> 下一页。
  - 屏幕底部/两侧箭头 -> 翻页。
  - 键盘方向键 -> 翻页。

### 2.2 习题交互 (Chapter Exercise)

习题作为章节PPT的一部分，位于最后一页。

- **习题位置**: 习题按钮位于最后一页PPT的右下角。
- **展开方式**: 点击习题按钮后，在当前PPT位置展开习题界面。
- **交互方式**:
  - 点击选项 -> 立即反馈 (正确/错误) + 解析。
  - 完成习题后，可选择继续学习下一章。

## 3. 关键交互细节

- **Loading States**: 切换章节时，如果正在生成PPT内容，显示优雅的Loading骨架屏。
- **Audio Sync**:
  - 如果当前页有音频且开关开启，翻页后自动播放。
  - 再次翻页立即停止当前播放，开始下一段。
  - 仅当本地存在预生成的TTS脚本时，播放按钮才可用。
- **原文对照**: 点击查看原文引用时，显示文件路径、章节路径、行号范围等详细信息。
