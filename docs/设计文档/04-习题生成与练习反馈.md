# 习题生成与练习反馈（MVP）

## 1. 功能目标

- 进入某知识点学习时，按需生成 1~3 道题
- 题型覆盖：选择题 / 填空题 / 简答题
- 用户提交答案后给出正确性反馈
- 非唯一答案题型：提供参考答案/要点（Agent 生成）/agent也可以参与对答案的判定

## 2. 输入与输出

### 输入

- `kp_id`
- KP 的学习内容与证据片段（用于出题依据）
- 期望题型/数量（可选）

### 输出

- `Exercise[]`：题目列表
- `ExerciseFeedback`：判定结果 + 讲解

## 3. 出题策略

### 3.1 题目数量与难度

- MVP 固定：1~3 题
- 难度：默认“基础理解”，避免需要书外知识

### 3.2 题型模板

- 选择题：
  - 1 个正确选项 + 2~3 个干扰项
  - 干扰项来自常见误区/相近概念
- 填空题：
  - 关键术语/关键步骤
- 简答题：
  - “用自己的话解释…” / “列出要点…”

### 3.3 依据引用

- 每题保留 `evidence_snippet_ids[]` 指向原文片段
- 便于反馈时“回到原文”

## 4. 判题与反馈

### 4.1 选择题

- 规则：直接比对选项
- 反馈：
  - 正确/错误
  - 错误时说明为何错（引用原文要点）

### 4.2 填空题

- MVP：
  - 允许多答案同义（可做规范化：大小写/空格/标点）
  - 由 Agent 给“匹配度判断 + 参考答案”

### 4.3 简答题

- MVP 不做严格评分，做“要点覆盖”反馈：
  - 给出参考要点（3~6 条）
  - 标注用户答案覆盖了哪些点、遗漏哪些点

## 5. 失败与降级

- 生成失败：提示“暂无法生成练习”，保留学习内容
- 判题失败：提供参考答案/要点，不给对错结论

## 6. 相关文档

- [00-总体设计.md](00-总体设计.md)
- [03-学习内容生成（精要速览-原文对照-层次化展开）.md](03-学习内容生成（精要速览-原文对照-层次化展开）.md)
- [05-数据模型与存储策略（MVP）.md](05-数据模型与存储策略（MVP）.md)

